{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programming\\\\Projects\\\\Task_Management_with_User_Authentication\\\\Frontend\\\\frontend-interface\\\\src\\\\Component\\\\UserLogin.js\",\n  _s = $RefreshSig$();\nimport './UserLogin.css';\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserLogin() {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [done, setDone] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    setDone(\"Submitting...\");\n    try {\n      console.log(\"Sending data:\", {\n        username,\n        password\n      });\n      const response = await axios.post(\"http://localhost:5000/Login\", {\n        username,\n        password\n      });\n      setMessage(response.data.message);\n      setDone(\"Registration successful\");\n\n      // Store the userId after successful login\n      localStorage.setItem('userId', response.data.userId); // Store userId in localStorage\n\n      // Redirect to TaskList\n      navigate(\"/TaskList\");\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(error);\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"An error occurred\");\n      setDone(\"Failed to register\");\n    }\n  };\n  if (message == \"Login successful\") {\n    navigate(\"/TaskList\");\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"login-form\",\n          onSubmit: handleLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Username\",\n            className: \"username\",\n            required: true,\n            onChange: e => {\n              setUsername(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Enter Password\",\n            className: \"username\",\n            onChange: e => {\n              setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"login-button\",\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Don't have account? \", /*#__PURE__*/_jsxDEV(\"spam\", {\n            className: \"createAcc\",\n            onClick: () => navigate(\"/signup\"),\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(UserLogin, \"io4FoQdHKYjJQMTM/DnKSrerw4A=\", false, function () {\n  return [useNavigate];\n});\n_c = UserLogin;\nexport default UserLogin;\nvar _c;\n$RefreshReg$(_c, \"UserLogin\");","map":{"version":3,"names":["useNavigate","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","UserLogin","_s","username","setUsername","password","setPassword","done","setDone","message","setMessage","navigate","handleLogin","e","preventDefault","console","log","response","post","data","localStorage","setItem","userId","error","_error$response","_error$response$data","children","className","onSubmit","type","placeholder","required","onChange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Programming/Projects/Task_Management_with_User_Authentication/Frontend/frontend-interface/src/Component/UserLogin.js"],"sourcesContent":["import './UserLogin.css';\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from 'react';\nimport axios from 'axios';\n\nfunction UserLogin(){\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [done, setDone] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setDone(\"Submitting...\");\n  \n    try {\n      console.log(\"Sending data:\", { username, password });\n      const response = await axios.post(\"http://localhost:5000/Login\", {\n        username,\n        password,\n      });\n  \n      setMessage(response.data.message);\n      setDone(\"Registration successful\");\n  \n      // Store the userId after successful login\n      localStorage.setItem('userId', response.data.userId);  // Store userId in localStorage\n  \n      // Redirect to TaskList\n      navigate(\"/TaskList\");\n  \n    } catch (error) {\n      console.error(error);\n      setMessage(error.response?.data?.error || \"An error occurred\");\n      setDone(\"Failed to register\");\n    }\n  };\n  \n  if(message==\"Login successful\"){\n    navigate(\"/TaskList\")\n  }\n\n\n    return(\n        <>\n        <div className=\"Login\">\n            <div className=\"login-box\">\n                <form className='login-form' onSubmit={handleLogin}>\n                <input type=\"text\" placeholder=\"Enter Username\" className=\"username\" required onChange={(e)=> {setUsername(e.target.value)}}></input>\n                <input type=\"password\" placeholder=\"Enter Password\" className=\"username\" onChange={(e)=> {setPassword(e.target.value)}}></input>\n                <button className=\"login-button\" type=\"submit\">\n                    Login\n                </button>\n                </form>\n                <p>Don't have account? <spam className=\"createAcc\" onClick={() => navigate(\"/signup\")}>Create Account</spam></p>\n                {message && <p>{message}</p>}\n            </div>\n\n        </div>\n\n        </>\n    )\n}\nexport default UserLogin;"],"mappings":";;AAAA,OAAO,iBAAiB;AACxB,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,SAASC,SAASA,CAAA,EAAE;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMgB,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAE9B,MAAMkB,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBN,OAAO,CAAC,eAAe,CAAC;IAExB,IAAI;MACFO,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE;QAAEb,QAAQ;QAAEE;MAAS,CAAC,CAAC;MACpD,MAAMY,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAAC,6BAA6B,EAAE;QAC/Df,QAAQ;QACRE;MACF,CAAC,CAAC;MAEFK,UAAU,CAACO,QAAQ,CAACE,IAAI,CAACV,OAAO,CAAC;MACjCD,OAAO,CAAC,yBAAyB,CAAC;;MAElC;MACAY,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEJ,QAAQ,CAACE,IAAI,CAACG,MAAM,CAAC,CAAC,CAAE;;MAEvD;MACAX,QAAQ,CAAC,WAAW,CAAC;IAEvB,CAAC,CAAC,OAAOY,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACdV,OAAO,CAACQ,KAAK,CAACA,KAAK,CAAC;MACpBb,UAAU,CAAC,EAAAc,eAAA,GAAAD,KAAK,CAACN,QAAQ,cAAAO,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBL,IAAI,cAAAM,oBAAA,uBAApBA,oBAAA,CAAsBF,KAAK,KAAI,mBAAmB,CAAC;MAC9Df,OAAO,CAAC,oBAAoB,CAAC;IAC/B;EACF,CAAC;EAED,IAAGC,OAAO,IAAE,kBAAkB,EAAC;IAC7BE,QAAQ,CAAC,WAAW,CAAC;EACvB;EAGE,oBACIb,OAAA,CAAAE,SAAA;IAAA0B,QAAA,eACA5B,OAAA;MAAK6B,SAAS,EAAC,OAAO;MAAAD,QAAA,eAClB5B,OAAA;QAAK6B,SAAS,EAAC,WAAW;QAAAD,QAAA,gBACtB5B,OAAA;UAAM6B,SAAS,EAAC,YAAY;UAACC,QAAQ,EAAEhB,WAAY;UAAAc,QAAA,gBACnD5B,OAAA;YAAO+B,IAAI,EAAC,MAAM;YAACC,WAAW,EAAC,gBAAgB;YAACH,SAAS,EAAC,UAAU;YAACI,QAAQ;YAACC,QAAQ,EAAGnB,CAAC,IAAI;cAACT,WAAW,CAACS,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAC;YAAA;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACrIxC,OAAA;YAAO+B,IAAI,EAAC,UAAU;YAACC,WAAW,EAAC,gBAAgB;YAACH,SAAS,EAAC,UAAU;YAACK,QAAQ,EAAGnB,CAAC,IAAI;cAACP,WAAW,CAACO,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAC;YAAA;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChIxC,OAAA;YAAQ6B,SAAS,EAAC,cAAc;YAACE,IAAI,EAAC,QAAQ;YAAAH,QAAA,EAAC;UAE/C;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACPxC,OAAA;UAAA4B,QAAA,GAAG,sBAAoB,eAAA5B,OAAA;YAAM6B,SAAS,EAAC,WAAW;YAACY,OAAO,EAAEA,CAAA,KAAM5B,QAAQ,CAAC,SAAS,CAAE;YAAAe,QAAA,EAAC;UAAc;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,EAC/G7B,OAAO,iBAAIX,OAAA;UAAA4B,QAAA,EAAIjB;QAAO;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEL;EAAC,gBAEJ,CAAC;AAEX;AAACpC,EAAA,CA1DQD,SAAS;EAAA,QAKCP,WAAW;AAAA;AAAA8C,EAAA,GALrBvC,SAAS;AA2DlB,eAAeA,SAAS;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}